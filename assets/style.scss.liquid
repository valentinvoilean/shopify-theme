/* ==========================================================================
   Most theme settings should be stored in Sassy CSS variables here, for reuse.
   ========================================================================== */
/*!theme settings */
$background-color:        {{ settings.background_color }};
$text-color:              {{ settings.text_color }};
$link-color:              {{ settings.link_color }};
$link-active-color:       {{ settings.link_active_color }};
$headerBackgroundColor:   {{ settings.header_background_color }};
$topNavIconColor:         {{ settings.topnav_icon_color }};
$topNavLinkColor:         {{ settings.topnav_link_color }};
$borderColor:             {{ settings.border_color }};

/* Custom Colors */
$color-1: rgba(255,255,255,0.9); /* lightbox color, signup flyouts */
$color-2: #000;
$color-3: #FFF;
$color-4: #B3B1B1; /* input colors */
$color-5: #ff9494; /* error color */
$color-6: #414141;

/* Table of content */
/* 1.  Base styles
   2.  Mixins
   3.  CSS transitions
   4.  Header
*/

/* =====================
   1. Base styles
   ===================== */

html, body { background-color: $background-color; color: $text-color; }

/* =====================
   2. Mixins
   ===================== */
@mixin opacity($opacity) {
    opacity: $opacity;
    $opacity-ie: $opacity * 100;
    filter: alpha(opacity=$opacity-ie); //IE8
}

@mixin transition($args...) {
    -webkit-transition: $args;
    -moz-transition: $args;
    -ms-transition: $args;
    -o-transition: $args;
    transition: $args;
}

// generic transform
@mixin transform($transforms) {
    -moz-transform: $transforms;
    -o-transform: $transforms;
    -ms-transform: $transforms;
    -webkit-transform: $transforms;
    transform: $transforms;
}

// rotate
@mixin rotate($deg) {
    @include transform(rotate(#{$deg}deg));
}

// scale
@mixin scale($scale) {
    @include transform(scale($scale));
}

// translate
@mixin translate($x, $y) {
    @include transform(translate($x, $y));
}

// skew
@mixin skew($x, $y) {
    @include transform(skew(#{$x}deg, #{$y}deg));
}

//transform origin
@mixin transform-origin($origin) {
    moz-transform-origin: $origin;
    -o-transform-origin: $origin;
    -ms-transform-origin: $origin;
    -webkit-transform-origin: $origin;
    transform-origin: $origin;
}

// backface visibility
@mixin backface-visibility($args...) {
    -webkit-backface-visibility: $args;
    backface-visibility: $args;
}


// Animations

/*
    Usage:
    @include keyframes(slide-down) {
      0% { opacity: 1; }
      90% { opacity: 0; }
    }

    .element {
      width: 100px;
      height: 100px;
      background: black;
      @include animation('slide-down 5s 3');
    }
*/

@mixin keyframes($animation-name) {
  @-webkit-keyframes $animation-name {
    @content;
  }
  @-moz-keyframes $animation-name {
    @content;
  }
  @-ms-keyframes $animation-name {
    @content;
  }
  @-o-keyframes $animation-name {
    @content;
  }
  @keyframes $animation-name {
    @content;
  }
}

@mixin animation($str) {
  -webkit-animation: #{$str};
  -moz-animation: #{$str};
  -ms-animation: #{$str};
  -o-animation: #{$str};
  animation: #{$str};
}

/* =====================
   3. CSS transitions
   ===================== */
%fadeInBackground {
    @include transition(color 0.3s);
    @include transition(background 0.3s);
    @include transform(translateZ(0));
    @include backface-visibility(hidden);
    box-shadow: 0 0 1px rgba(0, 0, 0, 0);
    -moz-osx-font-smoothing: grayscale;
    overflow: hidden;
}

%growTransition {
    @include transform(translateZ(0));
    @include transition(transform 0.3s);
    @include backface-visibility(hidden);
    display: inline-block;
    vertical-align: middle;
    box-shadow: 0 0 1px rgba(0, 0, 0, 0);
    -moz-osx-font-smoothing: grayscale;

    &:hover, &:focus, &:active { @include scale(1.3); }
}

%slideDown{
    @include animation('slide-down 1s ease');
	visibility: visible !important;
}

@include keyframes(slide-down) {
    0% { @include translate(0, -100%); }
    50%{ @include translate(0, 8%); }
    65%{ @include translate(0, -4%); }
    80%{ @include translate(0, 4%); }
    95%{ @include translate(0, -2%); }
    100% { @include translate(0, 0); }
}

/* =====================
   4. Header
   ===================== */
#topnav {
    background: $headerBackgroundColor;

    a { color: $topNavLinkColor; }

    .social_link { @extend %fadeInBackground; @extend %growTransition; color: $topNavIconColor; }

    .topnav_message { color: $topNavIconColor; }

    /* Currency Styles */
    .currency__base { color: $topNavLinkColor; }
    .currency__active:after { border-top-color: $topNavLinkColor; }
    .currency__verticalList { background: $color-1; border-color: $borderColor; }
    .currency__verticalList .currency__item { color: $text-color; }
    .currency__horizontalList:after { border-top-color: $topNavLinkColor; }
    .currency__expandedList:after { border-top-color: $link-active-color; }
    .currency__expandedList .currency__active { color: $link-active-color; }

    /* My Account styles */
    .MA { color: $topNavIconColor; }
    .MA-customerLinks { background: $color-1; border-color: $borderColor; }
    .MA-customerLinks li, .MA-customerLinks a { color: $text-color; }
    .MA-lightbox { background: $color-1; }
    .MA-lightboxWrapper { border-color: $borderColor; background: $color-3; }
    .MA-lightboxWrapper.animate { @extend %slideDown; }
    .MA-lightboxTitle, .MA-lightboxDescription { color: $color-2;}
    .MA-lightboxInput { border-color: $color-4; }
    .MA-lightboxInput input {
        color: $color-2;
        &:-webkit-autofill { -webkit-box-shadow:0 0 0 10vh $color-2 inset; -webkit-text-fill-color: $color-3; }
        &:-webkit-autofill:focus { -webkit-box-shadow: 0 0 0 10vh $color-2 inset; -webkit-text-fill-color: $color-3; }
    }

    .MA-lightboxInput input:invalid { border: 0; outline: none; box-shadow:none; }
    .MA-lightboxInput label { color: $color-4;}
    .MA-lightboxInput:hover {
        border-color: $color-2;
        input { color: $color-2; }
        label { color: $color-2; }
    }
    .MA-lightboxInput.is-active { border-color: $color-2; }
    .MA-lightboxInput.is-active label { color: $color-2; }
    .MA-lightboxInput.is-active input { background: $color-2; color: $color-3;}

    .MA-lightboxButton1 { background: $color-2; }
    .MA-lightboxButton1:hover { @include opacity(0.8); }
    .MA-lightboxButton2 { background: $color-3; border-color: $color-2; color: $color-2; }
    .MA-lightboxButton2:hover { background: $color-2; color: $color-3; }

    .MA-lightboxSeparator { border-color: $borderColor; }

    .MA-closeBtn { color: $color-2; }

}

.cart-link { color: $link-color; }
.cart-link > a { color: $link-color; }

